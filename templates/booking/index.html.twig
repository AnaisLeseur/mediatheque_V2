{% extends 'base.html.twig' %}

{% block title %}Hello BookingController!{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
    .display-aliment{
        width:100%;
        display: flex;
        justify-content: space-around
    }    
    .div-image img{
        height:60px;
        max-height:60px;
        max-width:60px;
    }
    .div-image{
        display: flex;
        align-items:center;
        justify-content: center;
        height:60px;
        width:60px;
    }
    table {
        width:100%;
    }
    td, th {
        margin:15px;
        padding:15px;
        text-align:center
    }
    tr {
        border-bottom:solid 1px grey; 
    }
    thead {
        background-color:lightgrey;
        text-align:center
    }
</style>


{% for msg in app.flashes("success") %}
    <div class="alert alert-success">
        {{ msg }}
    </div>
{% endfor %}

<div>
<br/>
    <h1>Gestion des livres</h1>
    <br/>

    <a href="{{path("add_book")}}">
        <button type="button" class="btn btn-info btn-lg btn-block" >Ajouter un livre </button>
    </a>
    <br/>

    <h3>Liste des Livres</h3>
    <br/>

    <table>
        <thead>
            <th>Image</th>
            <th>Titre</th>
            <th>Autheur</th>
            <th>Date de publication</th>
            <th>Cat√©gorie</th>
            <th>Actions</th>
        </thead>
        <tbody>


    {% for book in books %}
        <tr>
            <td class="div-image"><img src="{{ asset("images/books/"~ book.image )}}" alt="{{ book.title }}">
            </td>
            <td><strong>{{ book.title }}</strong></td>
            <td>{{ book.author }}</td>
            <td>{{ book.publishDate|date('Y') }}</td>
            <td>{{ book.category }}</td>
            <td>
                <a href="{{path("admin_update_book",{"id":book.id} )}}">
                    <button type="button" class="btn btn-secondary">Modifier</button>
                </a>
                <a href="{{path("admin_delete_book",{"id":book.id} )}}">
                    <button type="button" class="btn btn-danger" >Supprimer</button>
                </a>
            </td>
        </tr>

    {% endfor %}

</tbody>
</table>

<br/>
    <a href="{{path("add_book")}}">
        <button type="button" class="btn btn-info btn-lg btn-block" >Ajouter un livre </button>
    </a>
</div>

</div>
{% endblock %}
